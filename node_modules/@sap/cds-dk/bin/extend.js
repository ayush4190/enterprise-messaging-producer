module.exports = Object.assign(extend, {
    options: ['--directory', '--subdomain', '--passcode', '--username', '--clientid'],
    flags: ['--wsdl', '--templates', '--force'],
    shortcuts: ['-d', '-s', '-p', '-u', '-c'],
    help: `
# SYNOPSIS

    *cds extend* <app-url>

    Create an extension project from an extensible SaaS app.
    Obtain the app URL from the SaaS application provider.

    To facilitate running this multiple times against the same app, refer to the *cds login* command.

# OPTIONS

    *-d* | *--directory* <project-extension-directory>

        Specify the target directory of your extension project. By default, the current working directory is used.

    *-s* | *--subdomain* <tenant-subdomain>

        Specify your tenant's subdomain. By default, it's determined from the app URL.

    *-p* | *--passcode* <passcode>

        Tenant-specific passcode for authentication.

    *-u* | *--username* <name>

        Deprecated. Use passcode parameter instead.

    *-c* | *--clientid* <clientid>

        Client ID for authentication. This will override the default Client ID from environment.

    *--force*

        Overwrite existing content. Make sure you are using a version control system (like git) to avoid data loss.

    *--templates*

        Download only the templates provided by the SaaS application you want to extend.

# SEE ALSO

    *cds activate* to activate an extension project.
`})


async function extend ([url], options = {}) {
    if (options.force) {
        if (! await require('../lib/client/helper/question').askBooleanQuestion('Using option --force will overwrite existing files. Continue (yN)? ', false, false)) {
            console.log('Extend cancelled')
            return
        }
    }

    Object.assign(options, { url })
    await require('../lib/client/extend').run(options);
}


/* eslint no-console: off */
